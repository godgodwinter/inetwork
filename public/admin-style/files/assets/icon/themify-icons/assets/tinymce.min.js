(function(g){tinymce.PluginManager.add("themifyicons",function(c,e){function f(){var d=c.settings.color_picker_callback;if(d)return function(){var b=this;d.call(c,function(a){b.value(a).fire("change")},b.value())}}c.addButton("themifyicons",{title:"Themify Icon",image:e+"/images/favicon.png",onclick:function(){var d=[];jQuery.each(themifyIcons.fields,function(b,a){"colorbox"==a.type?a.onaction=f():"iconpicker"==a.type&&(a={type:"container",label:a.label,layout:"flex",direction:"row",items:[{type:"textbox",
name:a.name},{type:"button",text:a.text,onclick:function(){var a=jQuery(this.$el);if(document.getElementById("themify_builder_site_canvas_iframe"))var b=document.getElementById("themify_builder_site_canvas_iframe").contentWindow.Themify_Icons;b.target=a.prev();b.showLightbox(b.target.val())}}]});d.push(a)});c.windowManager.open({title:themifyIcons.menuName,body:d,onSubmit:function(b){b=this.toJSON();b.selectedContent=c.selection.getContent();var a=wp.template("themify-icons-plugin");c.insertContent(a(b))}})}})})})(jQuery);
